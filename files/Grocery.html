<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grocery</title>

    <!-- Add Material Icons stylesheet -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- <link rel="icon" type="image/x-icon" href="/favicon.ico" /> -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <!-- React and Material-UI CDN links -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@mui/material@5.14.11/umd/material-ui.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-swipeable-views@0.14.0/dist/index.umd.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script src="https://unpkg.com/react-swipeable-views@0.14.0/dist/index.umd.js"></script>
    <!-- Add Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    />

    <style>
      body {
        font-family: "Roboto", sans-serif;
        /* padding: 20px; */
        /* background-color: #f5f5f5; */
        background-color: #fff;
      }
      .arrow {
        cursor: pointer;
        font-size: 24px; /* Adjust size as needed */
        margin: 0 10px; /* Space between text and arrows */
        transition: transform 0.3s ease; /* Animation effect */
      }

      .arrow:hover {
        transform: scale(1.2); /* Scale up on hover */
      }

      /* .css-5xu0un-MuiCardContent-root {
        padding-bottom: 0px;
      } */
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const { SwipeableViews } = window.ReactSwipeableViews || {}; // Accessing SwipeableViews from the global window object

      const {
        AppBar,
        Box,
        Button,
        Card,
        CardContent,
        CardMedia,
        Container,
        Grid,
        IconButton,
        Menu,
        MenuItem,
        Paper,
        Toolbar,
        Typography,
        useTheme,
        ThemeProvider,
        createTheme,
        MobileStepper,
        Dialog,
        DialogTitle,
        DialogContent,
        DialogActions,
        Table,
        TableBody,
        TableCell,
        TableHead,
        TableRow,
        Chip,
        Tabs,
        Tab,
        TextField,
        TableContainer,
        FormControl,
        InputLabel,
        Select,
        FormHelperText,
        Autocomplete,
        Avatar,
      } = MaterialUI;

      const HomePage = () => {
        // const { SwipeableViews } = window.ReactSwipeableViews || {}; // Accessing SwipeableViews from the global window object

        const [products, serProducts] = useState([
          {
            productId: "01",
            category: ["cooking", "kitchen", "oil"],
            name: "Cocking Oil",
            image:
              "https://rukminim2.flixcart.com/image/850/1000/xif0q/edible-oil/q/z/0/-original-imagqf52ywgfy2nc.jpeg?q=20&crop=false",

            brand: "Freedom refined",
            description: "Best Refined cooking oil",
            rating: 5,
            note: "",
            varients: [
              {
                name: "1 kg",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "2 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "5 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "10 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "oil02",
            category: ["cooking", "kitchen", "oil"],
            name: "Sunflower Oil",
            image:
              "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIPe3oX0mbuqgtANBCpBVk6xvlhBOdV6BtXA&s",

            brand: "Gold Drop",
            description: "Best Refined cooking oil",
            rating: 5,
            note: "",
            varients: [
              {
                name: "1 kg",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "2 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "5 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "10 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "COil03",
            category: ["cooking", "kitchen", "oil"],
            name: "Cooking Oil",
            image: "https://i.ytimg.com/vi/F-FeY25daAQ/maxresdefault.jpg",

            brand: "Saffola Gold",
            description: "Best Refined cooking oil",
            rating: 5,
            note: "",
            varients: [
              {
                name: "1 kg",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "2 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "5 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "10 kg",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },

          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://wiproconsumercare.com/wp-content/uploads/soaps-hero.png",

            brand: "Santoor",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bombaybazaar.co.nz/cdn/shop/files/3012_grande.jpg?v=1717483721",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://m.media-amazon.com/images/I/61sCuV71ofL._AC_UF1000,1000_QL80_.jpg",
            brand: "Pears",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://farwaycompany.com/wp-content/uploads/2021/02/luxsoap.jpg",

            brand: "Lux",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://images-cdn.ubuy.com.eg/636b77b7b7e3214c38426f7c-dove-beauty-cream-large-bar-soap-12-pc.jpg",

            brand: "Dove",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFneQcwshthuRnssoTD02zx8qlJez8SjO9jQ&s",

            brand: "Medimix",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image:
              "https://mir-s3-cdn-cf.behance.net/projects/404/7f2861175987187.Y3JvcCwxMTI5LDg4MywwLDQ2Mw.jpg",

            brand: "Mysoor Sandal",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
          {
            productId: "mgsoap01",
            category: ["bodycare", "soap"],
            name: "Soap",
            image: "https://m.media-amazon.com/images/I/613itYJd-LL.jpg",

            brand: "Chinthal",
            description: "Best soap",
            rating: 5,
            note: "",
            varients: [
              {
                name: "100 Grams",
                image:
                  "https://www.bigbasket.com/media/uploads/p/xxl/40129434_3-freedom-oil-sunflower.jpg",
                // price: "",
                ourPrice: 80,
                generalPrice: 110,
                available: 3,
              },

              {
                name: "250 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 150,
                generalPrice: 200,
                available: 0,
              },
              {
                name: "300 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 350,
                generalPrice: 500,
                available: 0,
              },
              {
                name: "350 Grams",
                image:
                  "https://dukaan.b-cdn.net/700x700/webp/media/cc669b3b-7140-4dfd-8a19-78953e19696f.png",
                // price: "",
                ourPrice: 750,
                generalPrice: 1000,
                available: 0,
              },
            ],
          },
        ]);
        const [cart, setCart] = useState([]);
        const [activeTab, setActiveTab] = useState(0); // State to manage active tab
        const [searchTerm, setSearchTerm] = useState(""); // State to manage search term
        const [openDialog, setOpenDialog] = useState(false); // State to manage dialog visibility
        const [openProductDialog, setOpenProductDialog] = useState(false); // State to manage product dialog visibility
        const [selectedProducts, setSelectedProducts] = useState([]); // State to store selected products
        const [openServiceDialog, setOpenServiceDialog] = useState(false); // State to manage service dialog visibility
        const [name, setName] = useState(""); // State to manage name
        const [mobile, setMobile] = useState(""); // State to manage mobile
        const [address, setAddress] = useState(""); // State to manage address
        const [role, setRole] = useState(""); // State to manage role
        const [selectedProduct, setSelectedProduct] = useState(""); // State to manage selected product
        const [quantity, setQuantity] = useState(""); // State to manage quantity

        const [selectedCartItem, setSelectedCartItem] = useState(null); // State to manage selected cart item
        const [selectedCategory, setSelectedCategory] = useState("all"); // State to manage selected category

        const filteredProducts = () => {
          return products.filter(
            (product) =>
              product.name
                .toLowerCase()
                .includes(searchTerm.toLowerCase().trim()) // Filter products based on search term
          );
        };

        const RenderProducts = (section, category = "all", width) => {
          return (
            <div>
              <center>
                <span className="arrow left" onClick={() => {}}>
                  &#9664;
                </span>

                <strong>
                  <u>{section}</u>
                </strong>

                <span
                  className="arrow right"
                  onClick={() => {
                    /* Add right arrow click functionality */
                  }}
                >
                  &#9654;
                </span>
              </center>

              <Grid
                container
                spacing={2}
                sx={{
                  flexWrap: "nowrap",
                  overflowX: "auto",
                  display: "flex",
                }}
              >
                {filteredProducts().length === 0 && ( // Check if filteredDoctors is empty
                  <Grid item xs={12}>
                    <Typography variant="h6" align="center">
                      No products
                    </Typography>
                  </Grid>
                )}
                {filteredProducts()
                  .filter(
                    (product) => product.category.includes(category) // Filter products based on search term
                  )
                  .map((product, doctorIndex) => (
                    <Grid
                      item
                      xs={width}
                      md={4}
                      lg={3}
                      key={doctorIndex}
                      sx={{
                        m: 1,
                      }}
                    >
                      <Card
                        sx={{
                          display: "flex",
                          flexDirection: "column",
                          transition: "all 0.3s ease",
                          // "&:hover": {
                          //   transform: "translateY(-8px)",
                          //   boxShadow: 6,
                          // },
                          maxWidth: "100%", // Ensure card does not exceed container width
                          borderRadius: "8px", // Add border radius for a softer look
                          overflow: "hidden", // Prevent overflow of content
                        }}
                      >
                        <CardMedia
                          component="img"
                          image={product.image}
                          alt={product.name}
                          sx={{
                            objectFit: "cover",
                            height: {
                              xs: "150px",
                              sm: "200px",
                              md: "250px",
                            },
                          }} // Responsive height
                        ></CardMedia>
                        <CardContent sx={{ flexGrow: 1, p: 0.5 }}>
                          <Box sx={{ overflowX: "auto", whiteSpace: "nowrap" }}>
                            {" "}
                            {/* Added Box for horizontal scrolling */}
                            <Typography
                              variant="h6"
                              gutterBottom
                              sx={{
                                fontWeight: "bold",
                                fontSize: { xs: "12px" },
                                display: "inline-block", // Ensure it behaves like an inline element
                              }}
                            >
                              {product.brand} {product.name}
                            </Typography>
                          </Box>
                          {/*} <Typography
                                variant="body2"
                                gutterBottom
                                sx={{ fontSize: { xs: "10px",  } }} // Responsive font size
                              >
                                {product.description} ({product.varients.length}
                                )
                              </Typography>*/}

                          <Box
                            sx={{
                              gap: 1,
                              flexGrow: 1,
                              overflowX: "auto",
                              whiteSpace: "nowrap",
                              width: "100%",
                            }}
                          >
                            {product.varients.map((variant, index) => (
                              <Box
                                key={index}
                                sx={{
                                  m: 0.5,
                                  p: 0.5,
                                  display: "inline-block",

                                  fontSize: "8px",

                                  border: "1px solid #ccc", // Added border
                                  borderRadius: "4px", // Rounded corners
                                  backgroundColor: "#f9f9f9", // Light background color
                                  transition: "background-color 0.3s", // Smooth transition for hover effect
                                  "&:hover": {
                                    backgroundColor: "#e0e0e0", // Change background on hover
                                    cursor: "pointer", // Change cursor to pointer
                                  },
                                }}
                                // variant="outlined"
                                onClick={() => {}}
                              >
                                <Box sx={{ fontSize: "12px" }}>
                                  {variant.name}
                                </Box>
                                <Box sx={{ fontSize: "12px" }}>
                                  Our Price : {variant.ourPrice}{" "}
                                </Box>
                                <Box sx={{ fontSize: "8px" }}>
                                  <mark>
                                    Others Price :{" "}
                                    <del> {variant.generalPrice}</del>
                                  </mark>
                                </Box>
                              </Box>
                            ))}
                          </Box>

                          <Grid
                            container
                            // spacing={1}
                            sx={{
                              mt: 0.3,
                              display: "flex",
                              flexDirection: "column",
                              justifyContent: "center",
                            }}
                          >
                            <Grid
                              item
                              xs={12}
                              sx={{
                                // border: "1px gray solid",
                                display: "flex",
                                justifyContent: "center",
                                alignItems: "center",
                              }}
                            >
                              <Button
                                fullWidth
                                variant="contained"
                                // size="small"
                                size="small"
                                // sx={{ fontSize: "10px" }}
                                onClick={() => {
                                  setSelectedCartItem(product); // Set the selected item details
                                  setOpenDialog(true); // Open the confirmation dialog
                                }}
                              >
                                Add to Cart
                              </Button>
                            </Grid>
                          </Grid>
                        </CardContent>
                      </Card>
                    </Grid>
                  ))}
              </Grid>
            </div>
          );
        };
        return (
          <div>
            <Tabs
              value={activeTab}
              onChange={(event, newValue) => setActiveTab(newValue)}
              indicatorColor="primary"
              textColor="primary"
              centered
            >
              <Tab label="Buy" />
              <Tab label="History" />
            </Tabs>

            {activeTab === 0 && ( // Render Book tab content
              <div>
                <div>
                  <Box
                    sx={{
                      display: "flex",
                      justifyContent: "space-between",
                      my: 1,
                      p: 1,
                      // sx={{
                      position: "sticky",
                      top: 0,
                      zIndex: 10,
                      backgroundColor: "white",
                      // }} // Added styles for sticky behavior
                    }}
                  >
                    <Select
                      value={selectedCategory}
                      onChange={(e) => setSelectedCategory(e.target.value)} // Update selected category
                      displayEmpty
                      sx={{ mr: 1, minWidth: 80 }} // Add some styling
                    >
                      <MenuItem value="all">All</MenuItem>
                      <MenuItem value="oil">Oils</MenuItem>
                      <MenuItem value="soap">Soaps</MenuItem>
                      <MenuItem value="kitchen">Kitchen</MenuItem>
                    </Select>

                    <TextField
                      sx={{ mr: 1 }}
                      label="Search Products.."
                      variant="outlined"
                      fullWidth
                      onChange={(e) => setSearchTerm(e.target.value)} // Update search term on input change
                    />

                    <Button
                      variant="contained"
                      size="small"
                      // startIcon={
                      //   <span className="material-icons">shopping_cart</span>
                      // }
                      onClick={() => {
                        if (cart.length == 0) {
                          alert("Your Cart is Empty, Please add Products..");
                        } else {
                          setOpenDialog(true); // Open the dialog
                        }
                      }}
                    >
                      View Cart
                    </Button>
                  </Box>
                  <Typography sx={{ m: 1 }}>
                    Products..{" "}
                    <small style={{ fontSize: "10px" }}>
                      ( Here we need to add some more filters )
                    </small>
                  </Typography>

                  {RenderProducts("Cocking Oils Section", "oil", 8)}

                  <hr />
                  {RenderProducts("Soaps Section", "soap", 6)}

                  <hr />
                  {RenderProducts("Kitchen Section", "kitchen", 7)}

                  <hr />
                </div>
              </div>
            )}

            {activeTab === 1 && ( // Render History tab content
              <div>
                <Box
                  sx={{
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                  }}
                >
                  <Typography variant="h6" align="center">
                    Service History
                  </Typography>
                  <Button
                    size="small"
                    variant="outlined"
                    onClick={() => {
                      setOpenServiceDialog(true); // Open the service dialog
                    }}
                    sx={{ m: 2 }} // Add some margin at the bottom
                  >
                    Add New
                  </Button>
                </Box>
                <Grid container spacing={1}>
                  {[
                    {
                      orderedDate: "2023-10-01",
                      numberOfProducts: 2,
                      price: "$200",
                      serviceType: "Delivery",
                      products: [
                        {
                          name: "Street Light",
                          description: "50W capacity",
                          quantity: 1,
                        },
                        {
                          name: "CC Camera",
                          description: "full 4 set",
                          quantity: 1,
                        },
                      ],
                    },
                    {
                      orderedDate: "2023-10-02",
                      numberOfProducts: 1,
                      price: "$150",
                      serviceType: "Installation",
                      products: [
                        {
                          name: "Street Light",
                          description: "50W capacity",
                          quantity: 1,
                        },
                        {
                          name: "CC Camera",
                          description: "full 4 set",
                          quantity: 1,
                        },
                      ],
                    },
                    {
                      orderedDate: "2023-10-03",
                      numberOfProducts: 3,
                      price: "$300",
                      serviceType: "Repair",
                      products: [
                        {
                          name: "Street Light",
                          description: "50W capacity",
                          quantity: 1,
                        },
                        {
                          name: "CC Camera",
                          description: "full 4 set",
                          quantity: 1,
                        },
                      ],
                    },
                  ].map((service, index) => (
                    <Grid item xs={12} sm={6} md={4} key={index}>
                      <Card sx={{ padding: 2, margin: 1 }}>
                        <Typography variant="h6">
                          Ordered Date: {service.orderedDate}
                        </Typography>
                        <Typography variant="body1">
                          Number of Products: {service.numberOfProducts}
                        </Typography>
                        <Typography variant="body2">
                          Price: {service.price}
                        </Typography>
                        <Typography variant="body2">
                          Service Type: {service.serviceType}
                        </Typography>
                        <Box
                          sx={{
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "space-between",
                            mt: 2,
                          }}
                        >
                          <Button
                            variant="contained"
                            size="small"
                            onClick={() => {
                              setSelectedProducts(service.products); // Set selected products
                              setOpenProductDialog(true); // Open the product dialog
                            }}
                          >
                            View Items
                          </Button>
                        </Box>
                      </Card>
                    </Grid>
                  ))}
                </Grid>
              </div>
            )}

            <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>
              <DialogTitle>Your Cart Items</DialogTitle>
              <DialogContent>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>Name</TableCell>
                      <TableCell>Description</TableCell>

                      <TableCell>Quantity</TableCell>
                      <TableCell>Action</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {cart.map((item, index) => (
                      <TableRow key={index}>
                        <TableCell>{item.name}</TableCell>
                        <TableCell>{item.description}</TableCell>

                        <TableCell>
                          <TextField
                            type="number"
                            defaultValue={1}
                            inputProps={{ min: 1 }}
                            onChange={(e) => {
                              const newQuantity = e.target.value;
                              setCart((prevCart) => {
                                const updatedCart = [...prevCart];
                                updatedCart[index] = {
                                  ...updatedCart[index],
                                  quantity: newQuantity,
                                }; // Update quantity
                                return updatedCart;
                              });
                            }}
                          />
                        </TableCell>
                        <TableCell>
                          <Button
                            variant="contained"
                            onClick={() => {
                              setCart((prevCart) =>
                                prevCart.filter((_, i) => i !== index)
                              ); // Remove item from cart
                            }}
                          >
                            Delete
                          </Button>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </DialogContent>
              <DialogActions>
                <Button variant="outlined" onClick={() => setOpenDialog(false)}>
                  Close
                </Button>
                <Button
                  variant="contained"
                  onClick={() => {
                    // alert(JSON.stringify(cart)); // Implement buy functionality
                    alert("Products ordered successfully"); // Implement buy functionality
                    setOpenDialog(false);
                  }}
                >
                  Buy
                </Button>
              </DialogActions>
            </Dialog>

            <Dialog
              open={openProductDialog}
              onClose={() => setOpenProductDialog(false)}
            >
              <DialogTitle>Product Details</DialogTitle>
              <DialogContent>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>Name</TableCell>
                      <TableCell>Description</TableCell>
                      <TableCell>Quantity</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {selectedProducts.map((product, index) => (
                      <TableRow key={index}>
                        <TableCell>{product.name}</TableCell>
                        <TableCell>{product.description}</TableCell>
                        <TableCell>{product.quantity}</TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </DialogContent>
              <DialogActions>
                <Button
                  variant="outlined"
                  onClick={() => setOpenProductDialog(false)}
                >
                  Close
                </Button>
              </DialogActions>
            </Dialog>

            <Dialog
              open={openServiceDialog}
              onClose={() => setOpenServiceDialog(false)}
            >
              <DialogTitle>Add New Service</DialogTitle>
              <DialogContent>
                <TextField
                  label="Name"
                  fullWidth
                  margin="normal"
                  onChange={(e) => setName(e.target.value)} // State to manage name
                />
                <TextField
                  label="Mobile"
                  fullWidth
                  margin="normal"
                  onChange={(e) => setMobile(e.target.value)} // State to manage mobile
                />
                <TextField
                  label="Address"
                  fullWidth
                  margin="normal"
                  onChange={(e) => setAddress(e.target.value)} // State to manage address
                />
                <TextField
                  label="Role"
                  fullWidth
                  margin="normal"
                  onChange={(e) => setRole(e.target.value)} // State to manage role
                />

                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>Name</TableCell>
                      <TableCell>Description</TableCell>

                      <TableCell>Quantity</TableCell>
                      <TableCell>Action</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {products.map((item, index) => (
                      <TableRow key={index}>
                        <TableCell>{item.name}</TableCell>
                        <TableCell>{item.description}</TableCell>

                        <TableCell>
                          <TextField
                            type="number"
                            defaultValue={1}
                            inputProps={{ min: 1 }}
                            onChange={(e) => {
                              const newQuantity = e.target.value;
                              setCart((prevCart) => {
                                const updatedCart = [...prevCart];
                                updatedCart[index] = {
                                  ...updatedCart[index],
                                  quantity: newQuantity,
                                }; // Update quantity
                                return updatedCart;
                              });
                            }}
                          />
                        </TableCell>
                        <TableCell>
                          <Button
                            variant="contained"
                            onClick={() => {
                              setCart((prevCart) =>
                                prevCart.filter((_, i) => i !== index)
                              ); // Remove item from cart
                            }}
                          >
                            Delete
                          </Button>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </DialogContent>
              <DialogActions>
                <Button onClick={() => setOpenServiceDialog(false)}>
                  Cancel
                </Button>
                <Button
                  onClick={() => {
                    // Handle submit logic here
                    alert("Service added successfully!"); // Placeholder for submit action
                    setOpenServiceDialog(false);
                  }}
                >
                  Submit
                </Button>
              </DialogActions>
            </Dialog>

            {/*cart confirmation popup*/}
            <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>
              <DialogTitle>Confirm Cart Item</DialogTitle>
              <DialogContent>
                {selectedCartItem && (
                  <div>
                    <Typography variant="h6">
                      {selectedCartItem.name}
                    </Typography>
                    <Typography variant="body1">
                      Price: {selectedCartItem.varients[0].ourPrice}
                    </Typography>
                    {/*<TextField
                      type="number"
                      defaultValue={1}
                      inputProps={{ min: 1 }}
                      onChange={(e) => {
                        const newQuantity = e.target.value;
                        setSelectedCartItem((prev) => ({
                          ...prev,
                          quantity: newQuantity,
                        })); // Update quantity in selected item
                      }}
                    />*/}
                    <Grid container sx={{}}>
                      <Grid
                        item
                        xs={12}
                        sx={{
                          mt: 0.5,
                          pl: 1,

                          display: "flex",
                          justifyContent: "center",
                          alignItems: "center",
                        }}
                      >
                        <IconButton
                          onClick={() => {}}
                          sx={{
                            color: "red", // Change icon color to red
                            backgroundColor: "#f0f0f0", // Light background on hover

                            borderRadius: "50%", // Make the button circular
                            padding: "3px", // Add some padding
                          }}
                        >
                          <span className="material-icons">remove</span>
                        </IconButton>
                        <Typography sx={{ mx: 1, fontSize: "18px" }}>
                          2
                        </Typography>
                        <IconButton
                          onClick={() => {}}
                          sx={{
                            color: "green", // Change icon color to red
                            backgroundColor: "#f0f0f0", // Light background on hover

                            borderRadius: "50%", // Make the button circular
                            padding: "3px", // Add some padding
                          }}
                        >
                          <span className="material-icons">add</span>
                        </IconButton>
                      </Grid>
                    </Grid>
                  </div>
                )}
              </DialogContent>
              <DialogActions>
                <Button variant="outlined" onClick={() => setOpenDialog(false)}>
                  Cancel
                </Button>
                <Button
                  variant="contained"
                  onClick={() => {
                    setCart((prev) => [...prev, selectedCartItem]); // Add item to cart
                    alert("Product added to cart successfully");
                    setOpenDialog(false);
                  }}
                >
                  Confirm
                </Button>
              </DialogActions>
            </Dialog>
          </div>
        );
      };

      // Render the form to the DOM
      ReactDOM.render(<HomePage />, document.getElementById("root"));
    </script>
  </body>
</html>
